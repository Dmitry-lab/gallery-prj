(this["webpackJsonpgallery-prj"]=this["webpackJsonpgallery-prj"]||[]).push([[0],{10:function(e,t,c){e.exports={"header-block":"header_header-block__hQuDO",header:"header_header__3RmOJ"}},12:function(e,t,c){e.exports={page:"app_page__fgRnP"}},18:function(e,t,c){},2:function(e,t,c){e.exports={card:"card_card__3trER",info:"card_info__2HmcP",caption:"card_caption__UwF53","caption-content":"card_caption-content__vH0zN","delete-button":"card_delete-button__8QqDU",image:"card_image__ziJgt","default-button":"card_default-button__7ZFsg","like-button":"card_like-button__sG7GY","like-button_checked":"card_like-button_checked__20EtS","likes-block":"card_likes-block__3Xzxq","shadow-rect":"card_shadow-rect__1Yl1p"}},24:function(e,t,c){"use strict";c.r(t),c.d(t,"store",(function(){return C}));var n=c(0),a=c.n(n),i=c(6),r=c.n(i),o=(c(18),c(10)),s=c.n(o),d=c(1),l=function(){return Object(d.jsx)("header",{className:s.a["header-block"],children:Object(d.jsx)("h1",{className:s.a.header,children:"Gallery"})})},u=c(5),_=c.n(u),b=c(3),j=c(2),f=c.n(j);var O="LOAD_IMAGES",h="ADD_LIKE",p="DELETE_IMAGE",g="SET_FILTER",m=function(){return function(e){(function(e,t){var c="".concat("https://pixabay.com/api/?key=23827103-9ad190e11e1d6ccfdb16f473d&q=yellow+flowers&image_type=photo","?key=").concat("23827103-9ad190e11e1d6ccfdb16f473d","&q=").concat("car","&image_type=photo&page=").concat(e,"&per_page=").concat(t);return fetch(c).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))})(1,40).then((function(t){return e({type:O,detailImagesList:t.hits})})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443: ".concat(e))}))}},x=function(e){var t=e.image,c=Object(b.b)(),n="".concat(f.a["default-button"]," ").concat(f.a["delete-button"]),a="".concat(f.a["default-button"]," ").concat(f.a["like-button"]," ").concat(t.isLiked?f.a["like-button_checked"]:"");return Object(d.jsxs)("figure",{className:f.a.card,children:[Object(d.jsx)("img",{className:f.a.image,src:t.url,alt:"\u0424\u043e\u0442\u043e"}),Object(d.jsx)("div",{className:f.a["shadow-rect"]}),Object(d.jsxs)("figcaption",{className:f.a["caption-content"],children:[Object(d.jsxs)("div",{className:f.a.info,children:[Object(d.jsx)("p",{className:f.a.caption,children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ".concat(t.views)}),Object(d.jsx)("p",{className:f.a.caption,children:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0439: ".concat(t.downloads)})]}),Object(d.jsx)("div",{className:f.a["likes-block"],children:Object(d.jsx)("button",{className:a,type:"button",onClick:function(){c({type:h,id:t.id})}})}),Object(d.jsx)("button",{className:n,type:"button",onClick:function(){c({type:p,id:t.id})}})]})]})},k=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e})),c=t.images,a=t.filtered,i=Object(n.useMemo)((function(){return a?c.filter((function(e){return e.isLiked})):c}),[a,c]),r=a?"".concat(_.a.button," ").concat(_.a.button_active):_.a.button,o=a?"\u0412\u0441\u0435 \u0444\u043e\u0442\u043e":"\u0422\u043e\u043b\u044c\u043a\u043e \u0444\u043e\u0442\u043e \u0441 \u043b\u0430\u0439\u043a\u0430\u043c\u0438";return Object(d.jsxs)("div",{className:_.a.gallery,children:[Object(d.jsx)("button",{className:r,onClick:function(){e({type:g})},children:o}),i.length?Object(d.jsx)("div",{className:_.a.content,children:i.map((function(e){return Object(d.jsx)(x,{image:e},e.id)}))}):Object(d.jsx)("p",{className:_.a.text,children:"\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430"})]})},y=function(){return Object(d.jsx)(k,{})},N=c(12),v=c.n(N),w=function(){var e=Object(b.b)();return Object(n.useEffect)((function(){e(m())}),[]),Object(d.jsxs)("div",{className:v.a.page,children:[Object(d.jsx)(l,{}),Object(d.jsx)(y,{})]})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,25)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))},L=c(7),D=c(13),S=c(4),I={images:[],filtered:!1},T=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):L.b)(Object(L.a)(D.a)),C=Object(L.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var c=t.detailImagesList.map((function(e){return{id:e.id,views:e.views,downloads:e.downloads,url:e.webformatURL,isLiked:!1}}));return{images:c,filtered:!1};case h:return Object(S.a)(Object(S.a)({},e),{},{images:e.images.map((function(e){return e.id===t.id?Object(S.a)(Object(S.a)({},e),{},{isLiked:!e.isLiked}):e}))});case p:return Object(S.a)(Object(S.a)({},e),{},{images:e.images.filter((function(e){return e.id!==t.id}))});case g:return Object(S.a)(Object(S.a)({},e),{},{filtered:!e.filtered});default:return e}}),T);r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(b.a,{store:C,children:Object(d.jsx)(w,{})})}),document.getElementById("root")),E()},5:function(e,t,c){e.exports={gallery:"gallery_gallery__8GeVX",content:"gallery_content__3WNxd",button:"gallery_button__lY3rn",text:"gallery_text__1B7t8",button_active:"gallery_button_active__3xFNN"}}},[[24,1,2]]]);
//# sourceMappingURL=main.ae15fa20.chunk.js.map